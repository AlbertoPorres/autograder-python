<!-- Teacher's Create student HTML file.

    Author: Alberto Porres Fernández
    Date: 07/07/2022

-->
{% extends "base_template.html" %}
{% block title %}Create Student{% endblock %}
{% block content %}
<form action= "" method="POST", enctype="multipart/form-data" id = "mainForm">
    <div class = "form-group col-md-4 offset-md-4">
    {{ form.hidden_tag() }}
    <p></p>
    <h4>Creación de un nuevo alumno</h4>
    <div>
        {{ form.name.label }}
        {{ form.name(size=32, class_ ="form-control") }}<br>
    </div>
    <div>
        {{ form.username.label }}
        {{ form.username(size=32, class_ ="form-control") }}<br>
    </div>
    <div>
        {{ form.password.label }}
        {{ form.password(class_ ="form-control") }}<br>
    </div>
    <div>
        {{ form.confirm_password.label }}
        {{ form.confirm_password(class_ ="form-control") }}<br>
    </div>
    <div>
        <label for="courses">Elija un curso al que registrar al alumno</label>
        <select name = "courses" >
            <option disabled selected value="not selected"> -- Seleccione una opción -- </option>
            {% for course in courses %}
            <option value = "{{ course.name }}">{{ course.name }}</option>
            {% endfor %}
        </select>
    </div>
    <br>
    <button type="button" class="btn btn-dark" data-toggle="modal" data-target="#createModal">Crear</button>
</div>
</form>

<!-- Modal -->
<div class="modal fade" id="createModal" tabindex="-1" role="dialog" aria-labelledby="createModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="createModalLabel">¿Desea realizar esta acción?</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-success" id="btnConfirm" onclick="form_submit()">Confirmar</button>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    function form_submit(){

        $("#createModal").modal("hide");
                
        // confirmar
        document.getElementById("mainForm").submit();
    }
</script>


{% endblock %}  